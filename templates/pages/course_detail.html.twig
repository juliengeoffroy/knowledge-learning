{% extends 'base.html.twig' %}

{% block title %}{{ course.title }} - Détails{% endblock %}

{% block body %}
<style>
    /* Forcer la couleur bleue sur les textes dans la box */
    .course-box p,
    .course-box h3,
    .course-box strong {
        color: #00497c !important;
        font-weight: bold;
    }
</style>

<div class="course-detail-container">
    <div class="course-box">
        <h2>{{ course.title }}</h2>
        <p><strong>Thème :</strong> {{ course.theme.title }}</p>
        <p><strong>Prix :</strong> {{ course.price }} €</p>

        <h3>Leçons incluses :</h3>
        <ul>
            {% for lesson in lessons %}
                <li>
                    <a href="{{ path('app_lesson_detail', {id: lesson.id}) }}" class="lesson-link">
                        {{ loop.index }}. {{ lesson.title }} — {{ lesson.price }} €
                    </a>
                </li>
            {% else %}
                <li>Aucune leçon disponible pour ce cours.</li>
            {% endfor %}
        </ul>

        <div class="buttons">
            <a href="{{ path('app_courses') }}" class="btn-return">← Retour aux cours</a>
            <a href="{{ path('checkout_course', {id: course.id}) }}" class="btn-buy">Acheter ce cours</a>
            {% if alreadyPurchased %}
                <p style="color: green; font-weight: bold; margin-top: 10px;">
                    Vous avez déjà acheté ce cours.
                </p>
            {% endif %}

        </div>
    </div>
</div>
{% endblock %}
